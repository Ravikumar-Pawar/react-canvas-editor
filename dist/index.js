function e(e){if(!e)return;if("undefined"==typeof window)return;const t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}import t,{useCallback as r,useEffect as n,useState as a,forwardRef as o,useRef as l}from"react";import{DOMEventHandlers as i,EditorMode as m,PageMode as c,RowFlex as s,ListType as d,ListStyle as u}from"@mindfiredigital/canvas-editor";import{useDispatch as p,useSelector as f,Provider as b}from"react-redux";import{useParams as g}from"react-router-dom";import h from"@mui/material/Stack";import{createSlice as E,configureStore as x}from"@reduxjs/toolkit";import{styled as C}from"@mui/material/styles";import y,{SliderThumb as k}from"@mui/material/Slider";import v from"@mui/icons-material/ArrowRight";import S from"@mui/icons-material/ArrowDropDownTwoTone";import A from"@mui/material/Box";import T from"@mui/material/AppBar";import I from"@mui/icons-material/FormatBold";import w from"@mui/material/Tooltip";import R from"@mui/material/IconButton";import z from"@mui/icons-material/FormatItalic";import{Box as M,Popover as L,Grid as O,Typography as N,IconButton as F,Tooltip as H,TextField as D,ClickAwayListener as P,Paper as G,Input as j,Stack as B}from"@mui/material";import W from"@mui/icons-material/FormatAlignLeft";import U from"@mui/icons-material/FormatAlignCenter";import _ from"@mui/icons-material/FormatAlignRight";import Y from"@mui/icons-material/FormatAlignJustify";import q from"@mui/icons-material/Undo";import X from"@mui/icons-material/Redo";import $ from"@mui/icons-material/FormatUnderlined";import J from"@mui/icons-material/Subscript";import K from"@mui/icons-material/Superscript";import Q from"@mui/icons-material/StrikethroughS";import V from"@mui/icons-material/FormatListBulleted";import Z from"@mui/icons-material/FormatListNumbered";import ee from"@mui/material/MenuItem";import te from"@mui/material/FormControl";import re from"@mui/material/Select";import ne from"@mui/material/Table";import ae from"@mui/material/TableBody";import oe from"@mui/material/TableCell";import le from"@mui/material/TableRow";import ie from"@mui/material/Typography";import me from"@mui/icons-material/BackupTable";import ce from"@mui/icons-material/Close";import se from"@mui/icons-material/FormatColorText";import de from"@mui/icons-material/ColorLens";import{PhotoshopPicker as ue}from"react-color";import pe from"@mui/icons-material/Check";import fe from"@mui/icons-material/Colorize";import{Remove as be,Add as ge}from"@mui/icons-material";import he from"@mui/icons-material/InsertLink";import Ee from"@mui/icons-material/InsertPhoto";import xe from"@mui/material/Toolbar";import Ce from"@mui/icons-material/DocumentScannerOutlined";import ye from"@mui/material/Dialog";import ke from"@mui/material/DialogActions";import ve from"@mui/material/DialogContent";import Se from"@mui/material/DialogTitle";import Ae from"@mui/material/Button";import Te from"@mui/material/TextField";import Ie from"@mui/material/Grid";e(".editor > div {\n  margin: auto;\n}\n\n.canvas-editor {\n  position: relative;\n  border-left: 1px solid rgba(0, 0, 0, 0.3);\n  border-top: 1px solid rgba(0, 0, 0, 0.3);\n  padding-top: 10px;\n}\n\n.canvas-editor-main {\n  padding: 70px 30px 80px;\n  margin: auto;\n}");const we=(e,t)=>{const[r,o]=a(e);return n((()=>{const r=setTimeout((()=>{o(e)}),t);return()=>{clearTimeout(r)}}),[e,t]),r},Re=E({name:"document",initialState:{documentId:"",title:"",reloadRecentDoc:!1,margins:[]},reducers:{setDocumentTitle:(e,t)=>{e.title=t.payload.title},reloadRecentDoc:(e,t)=>{e.reloadRecentDoc=t.payload.reloadRecentDoc},setDocumentMargins:(e,t)=>{e.margins=t.payload.margins},setDocumentId:(e,t)=>{e.documentId=t.payload.documentId}}}),{setDocumentTitle:ze,reloadRecentDoc:Me,setDocumentId:Le,setDocumentMargins:Oe}=Re.actions;var Ne=Re.reducer;const Fe=C(y)((()=>({width:1,padding:"0",color:"#0000004d",borderRadius:0,border:"none","& .MuiSlider-rail":{opacity:1,backgroundColor:"#0000004d",left:"-2px",transform:"translateX(0%)"},"& .MuiSlider-track":{width:1,left:-2,border:"none",backgroundColor:"white"},"& .MuiSlider-mark":{backgroundColor:"#0000004d",height:1,width:11,left:-8},"& .MuiSlider-markLabel":{fontSize:12,fontWeight:"normal",left:-22},"& .MuiSlider-thumb":{backgroundColor:"transparent","&:hover":{backgroundColor:"transparent",boxShadow:"none"}}}))),He=C(y)((()=>({height:1,padding:"0",color:"#0000004d",borderRadius:0,border:"none",top:0,"& .MuiSlider-rail":{opacity:1,backgroundColor:"#0000004d",transform:"translateY(0%)"},"& .MuiSlider-track":{height:1,border:"none",backgroundColor:"white"},"& .MuiSlider-mark":{backgroundColor:"#0000004d",height:11,width:1,top:-4},"& .MuiSlider-markLabel":{fontSize:12,fontWeight:"normal",top:-27},"& .MuiSlider-thumb":{backgroundColor:"transparent",top:3,"&:hover":{backgroundColor:"transparent",boxShadow:"none"}}}))),De=new Array(12).fill(0).map(((e,t)=>({value:96*-t,label:t}))),Pe=new Array(9).fill(0).map(((e,t)=>({value:96*t,label:t})));function Ge(e){const{children:r,...n}=e;return t.createElement(k,{...n},r,t.createElement(v,{color:"primary",fontSize:"large"}))}function je(e){const{children:r,...n}=e;return t.createElement(k,{...n},r,t.createElement(S,{color:"primary",fontSize:"large"}))}function Be({documentId:e}){const r=p(),o=f((e=>e.document)),[l,m]=a([]),[c,s]=a([]),d=we(o.margins,500),u=(e,t)=>{let[n,a]=t;m(t);let o=[...d];o[0]=Math.abs(a),o[1]=1056-Math.abs(n),i.setPaperMargins(o),r(Oe({margins:o}))},b=(e,t)=>{let[n,a]=t;s(t);let o=[...d];o[2]=n,o[3]=816-a,i.setPaperMargins(o),r(Oe({margins:o}))};return n((()=>{d?.length&&e&&(m([-1*Math.abs(1056-d[1]),-1*d[0]]),s([d[2],816-d[3]]),l.length||c.length||i.setPaperMargins(d))}),[d,e]),t.createElement(t.Fragment,null,t.createElement(h,{sx:{height:"1056px",position:"absolute",left:"0px"},direction:"row"},t.createElement(Fe,{orientation:"vertical",value:l.length?l:[-956,-100],min:-1056,max:0,marks:De,onChange:e=>u,step:24,track:"inverted",scale:e=>-1056,size:"small",slots:{thumb:Ge},valueLabelDisplay:"off"})),t.createElement(h,{sx:{height:"1px",position:"absolute",top:"-1px",width:"816px",left:"calc((100% - 811px) / 2)"},direction:"row"},t.createElement(He,{orientation:"horizontal",value:c.length?c:[120,696],min:0,max:816,marks:Pe,onChange:e=>b,step:24,size:"small",scale:e=>816,slots:{thumb:je},valueLabelDisplay:"off"})))}const We=o((function(e,o){const[l,s]=a({left:1180,top:250,visiblity:!1}),[d,u]=a([]),[f,b]=a(""),{documentId:h}=g();((e,t)=>{const a=r((()=>{const r=i.getSelectedText(),n=r?.toString().trim();n?(e(n),t((e=>({...e,visiblity:!0})))):t((e=>({...e,visiblity:!1})))}),[t,e]);n((()=>(document.addEventListener("mouseup",a),()=>{document.removeEventListener("mouseup",a)})),[a])})(b,s);const E=p();return n((()=>{const t=document.querySelector(".canvas-editor");if(t.querySelector('[editor-component="main"]'))return;const r={height:1056,width:816,mode:m.EDIT,pageMode:c.PAGING,pageNumber:{format:"{pageNo}/{pageCount}"},minSize:1,maxSize:72};t.addEventListener("mouseup",(t=>{e.onSelect&&e?.onSelect(i.getSelectedText())})),t.addEventListener("keydown",(t=>{const r=i.getContent()?.data?.main;u(r),e?.onChange&&e?.onChange(r[0].value)})),i.register(t,d,r)}),[]),n((()=>{e?.data&&(u(e?.data),i.setContent({main:[{value:e?.data}]}))}),[h,E,e?.data]),t.createElement("div",{className:"canvas-editor-main",style:e?.style?.editorMain},t.createElement("div",{className:"canvas-editor editor",ref:o,style:e?.style?.margin},t.createElement(Be,{documentId:h})))}));function Ue(e){return t.createElement(w,{title:e.title},t.createElement(R,{size:"small",edge:"start","aria-label":e.title,sx:{mr:1,borderRadius:0,...e.sx},onClick:e.handleClick},e.children))}var _e,Ye,qe,Xe,$e;!function(e){e.REPHRASE="Improve Writing",e.CHANGE_TONE="Change Tone",e.GRAMMAR="Fix Grammar"}(_e||(_e={})),function(e){e.PROFESSIONAL="professional",e.CASUAL="casual"}(Ye||(Ye={})),_e.REPHRASE,_e.GRAMMAR,_e.CHANGE_TONE,Object.values(Ye),function(e){e.SUCCESS="success",e.ERROR="error"}(qe||(qe={})),function(e){e.ARIAL="Arial",e.CALIBRI="Calibri",e.TIMES_NEW_ROMAN="Times New Roman",e.ROBOTO="Roboto",e.IMPACT="IMPACT",e.RALEWAY="Raleway",e.LATO="Lato",e.COURIER_NEW="Courier New",e.COMIC_SANS="Comic Sans MS",e.CONSTANTIA="Constantia",e.GEORGIA="Georgia",e.PACIFICO="Pacifico"}(Xe||(Xe={})),function(e){e.Normal="normal",e["Heading 1"]="first",e["Heading 2"]="second",e["Heading 3"]="third",e["Heading 4"]="fourth",e["Heading 5"]="fifth",e["Heading 6"]="sixth"}($e||($e={}));const Je=[6,7,8,10,12,14,16,18,20,21,24,29,32,34,48,56,72],Ke=["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff","#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff","#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc","#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd","#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0","#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79","#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47","#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130"];var Qe;function Ve(e){const[r,n]=a("Arial");return t.createElement("div",null,t.createElement(te,{sx:{m:1,minWidth:80,width:120},size:"small",variant:"standard"},t.createElement(re,{sx:Object.assign({fontSize:"0.9rem"},e.style),value:r,onChange:e=>{n(e.target.value),i.handleFontFamily(e.target.value)},inputProps:{"aria-label":"font family"}},Object.values(Xe).map((e=>t.createElement(ee,{key:e,value:e,sx:{fontSize:"0.9rem",fontFamily:e}},e))))))}!function(e){e.COLOR="color",e.HIGHLIGHT="highlight"}(Qe||(Qe={})),e(".activeCell {\n  border: 1px solid rgba(73, 145, 242, 0.2) !important;\n  background: rgba(73, 145, 242, 0.15) !important;\n}\n\n.tableCollapse {\n  width: 17.25rem;\n  height: 19.375;\n  background: #fff;\n  box-shadow: 0 0.125rem 0.75rem 0 rgba(56, 56, 56, 0.2);\n  border: 0.063rem solid #e2e6ed;\n  box-sizing: border-box;\n  border-radius: 0.125rem;\n  position: absolute;\n  z-index: 99;\n  padding: 0.875rem 1.688rem;\n  cursor: auto;\n}\n\n.tableTitle {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #e2e6ed;\n  color: black;\n}\n\n.tableContainer {\n  position: relative;\n}");const Ze=e=>{const[r,o]=a(-1),[l,m]=a(-1),[c,s]=a(!1),[d,u]=a("Insert table");n((()=>{l>-1&&r>-1&&u(`${l}×${r}`)}),[l,r]);const p=()=>{s(!1),o(-1),m(-1),u("Insert table")};return t.createElement(A,{className:"tableContainer"},t.createElement(Ue,{title:"Insert Table",handleClick:()=>{s(!0)},sx:Object.assign({height:"100%"},e.style)},t.createElement(me,null)),c&&t.createElement(A,{className:"tableCollapse"},t.createElement(A,{className:"ableTitle"},t.createElement(ie,{sx:{fontSize:"0.8rem"}},d),t.createElement(Ue,{title:"Close table",sx:{cursor:"pointer"},handleClick:p},t.createElement(ce,{sx:{width:"0.8rem",height:"0.8rem"}}))),t.createElement(ne,{onMouseMove:e=>{const{offsetX:t,offsetY:r}=e.nativeEvent;o(Math.ceil(t/22)||1),m(Math.ceil(r/20)||1)},onClick:()=>{i.createTable({rowIndex:l,colIndex:r}),p()},sx:{borderCollapse:"separate",borderSpacing:"0.25rem"}},t.createElement(ae,null,[...Array(10)].map(((e,n)=>t.createElement(le,{key:n},[...Array(10)].map(((e,a)=>t.createElement(oe,{className:n<l&&a<r?"activeCell":"",key:a,sx:{padding:"6px",width:"16px",height:"16px",boxSizing:"border-box",border:"1px solid #e2e6ed",background:"#fff",marginRight:"6px",pointerEvents:"none"}}))))))))))},et=({colorPickerHandleClose:e,colorPickerAnchor:r,color:n,feature:o})=>{f((e=>e.document));const[l,i]=a(null==n?void 0:n),m=Boolean(r),c=m?"font-color-popover":void 0;return t.createElement(M,null,t.createElement(L,{id:c,open:m,anchorEl:r,onClose:e,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},className:"custom-popover-paper"},t.createElement(ue,{color:l,onChangeComplete:e=>{i(e.hex)},onAccept:async()=>{e()},onCancel:()=>{e()},header:"Pick Your Color"})))},tt=({anchorEl:e,handleClose:r,definedColor:n,feature:o})=>{const[l,m]=a([]),[c,s]=a(null);f((e=>e.document));const d=e=>{o===Qe.HIGHLIGHT?i.highlightText(e):o===Qe.COLOR&&i.setFontColor(e)};return t.createElement(t.Fragment,null,t.createElement(M,null,t.createElement(L,{open:Boolean(e),anchorEl:e,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},t.createElement(O,{container:!0,sx:{width:"14.1rem",height:"auto",display:"flex",margin:"10px 10px 4px 10px",justifyContent:"flex-start"}},Ke?.map(((e,r)=>t.createElement(O,{item:!0,key:r,sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"1.4rem",width:"1.4rem"}},t.createElement(M,{sx:{width:".7rem",height:".7rem",backgroundColor:e,borderRadius:"50%",cursor:"pointer",padding:"4px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:e===n?"0px 2px 4px rgba(0, 0, 0, 0.5)":""},onClick:()=>{d(e)}},e===n?t.createElement(pe,{fontSize:"inherit"}):""))))),t.createElement(M,{sx:{margin:"0 10px 0 17px"}},t.createElement(N,{variant:"body2",sx:{fontSize:"12px",fontWeight:"bold"}},"CUSTOM")),t.createElement(M,{sx:{margin:"8px 10px 10px 10px",display:"flex"}},l?.map(((e,r)=>t.createElement(M,{key:r,sx:{width:".7rem",height:".7rem",backgroundColor:e,borderRadius:"50%",cursor:"pointer",padding:"4px",margin:"2px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:e===n?"0px 2px 4px rgba(0, 0, 0, 0.5)":""},onClick:()=>d(e)},e===n?t.createElement(pe,{fontSize:"inherit"}):""))),t.createElement(F,{onClick:e=>{s(e.currentTarget)},sx:{padding:"1px",marginBottom:"2px"}},t.createElement(H,{title:"Add a custom color"},t.createElement(de,{fontSize:"small"})))))),c?t.createElement(et,{colorPickerHandleClose:()=>{s(null)},colorPickerAnchor:c,color:n,feature:o}):null)},rt=({textColor:e,style:r})=>{const[n,o]=a(null),l=Boolean(n)?"font-color-popover":void 0;return t.createElement(M,null,t.createElement(H,{title:"Text color"},t.createElement(R,{"aria-describedby":l,sx:Object.assign({mr:1,borderRadius:0},r),onClick:e=>{o(e.currentTarget)}},t.createElement(se,{fontSize:"medium"}))),t.createElement(tt,{anchorEl:n,handleClose:()=>{o(null)},definedColor:e,feature:Qe.COLOR}))},nt=({color:e,style:r})=>{const[n,o]=a(null),l=Boolean(n)?"font-color-popover":void 0;return t.createElement(M,null,t.createElement(w,{title:"Highlight color"},t.createElement(R,{"aria-describedby":l,sx:Object.assign({mr:1,borderRadius:0},r),onClick:e=>{o(e.currentTarget)}},t.createElement(fe,{fontSize:"medium"}))),t.createElement(tt,{anchorEl:n,handleClose:()=>{o(null)},definedColor:e,feature:Qe.HIGHLIGHT}))},at=({onChange:e,onClose:r})=>t.createElement(P,{onClickAway:r},t.createElement(G,{sx:{position:"absolute",zIndex:9999,margin:"0 37px"}},Je.map(((r,n)=>t.createElement(ot,{key:n,onClick:()=>e(r)},r))))),ot=({onClick:e,children:r})=>t.createElement("div",{onClick:e,style:{cursor:"pointer",padding:"8px"}},r),lt=({size:e=16,style:r})=>{const[o,l]=a(e),[m,c]=a(!1);n((()=>{l(e)}),[e]);const s=()=>{c(!1)};return t.createElement(M,{sx:r},t.createElement(R,{onClick:()=>{o>1&&(l((e=>e-2)),i.decreaseFontSize())},sx:r},t.createElement(H,{title:"Increase font size"},t.createElement(be,null))),t.createElement(H,{title:"Font size"},t.createElement(D,{type:"text",value:o,onClick:()=>{c(!0)},onChange:e=>{const t=Number(e.target.value);l(t),i.setSize(Number(t))},style:{width:"50px",margin:"8px 0",cursor:"pointer"},inputProps:{style:{textAlign:"center",padding:"1px 1px"}}})),m&&t.createElement(at,{onChange:e=>{l(e),s(),i.setSize(Number(e))},onClose:s}),t.createElement(R,{onClick:()=>{o<72&&(l((e=>e+2)),i.increaseFontSize())},sx:{padding:"1px",margin:"8px 0"}},t.createElement(H,{title:"Decrease font size"},t.createElement(ge,null))))},it=e=>{const[r,n]=a(null);return t.createElement(M,{sx:Object.assign({display:"flex",justifyContentt:"center",alignItems:"center",margin:"0 0.5rem"},e.style)},t.createElement(te,{sx:{m:1,minWidth:80,width:120},size:"small",variant:"standard"},t.createElement(re,{labelId:"heading-label",sx:{fontSize:"0.9rem"},value:r||"Normal"},Object.keys($e).map((e=>t.createElement(ee,{key:e,value:e,sx:{fontSize:("Normal"===e?16:26-2*Number(e.charAt(e.length-1)))+"px",fontWeight:""+("Normal"===e?"":"bold")},onClick:()=>(e=>{n(e);const t=e?$e[e]:null;i.setTitle(t)})("Normal"===e?null:e)},e))))))},mt=e=>{const r=l(null),[o,m]=a(""),[c,s]=a(0),[d,u]=a(0);n((()=>{o&&i.setImage({value:o,height:c,width:d})}),[o,c,d]);return t.createElement(t.Fragment,null,t.createElement(j,{type:"file",inputRef:r,style:{display:"none"},inputProps:{accept:"image/*"},onChange:e=>{const t=e.target.files;if(t&&t.length>0){const e=t[0],r=new FileReader;r.onloadend=()=>{const e=r.result;m(e);const t=new Image;t.onload=()=>{s(t.height),u(t.width)},t.src=e},r.readAsDataURL(e)}}}),t.createElement(F,{onClick:()=>{r.current&&r.current.click()}},t.createElement(H,{title:"Image",style:e.style},t.createElement(Ee,null))))},ct=o((function(e,r){const[o,l]=a();return n((()=>{let e;const t=setTimeout((()=>{e=setInterval((()=>{const e=i.getContentStyles();l(e)}),100)}),1e3);return()=>{clearInterval(e),clearTimeout(t)}}),[]),t.createElement(A,{sx:{flexGrow:1}},t.createElement(T,{position:"fixed",sx:e?.toolbarClass?.container},t.createElement(B,{sx:e?.toolbarClass?.primaryToolbar},(!e?.toolbar||e?.toolbar?.undo)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.undo,title:"undo",handleClick:i.handleUndo},t.createElement(q,null)),(!e?.toolbar||e?.toolbar?.redo)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.redo,title:"redo",handleClick:i.handleRedo},t.createElement(X,null)),(!e?.toolbar||e?.toolbar?.bold)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.bold,title:"bold",handleClick:i.handleBold},t.createElement(I,null)),(!e?.toolbar||e?.toolbar?.italic)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.italic,title:"italic",handleClick:i.handleItalic},t.createElement(z,null)),(!e?.toolbar||e?.toolbar?.underline)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.underline,title:"underline",handleClick:i.handleUnderline},t.createElement($,null)),(!e?.toolbar||e?.toolbar?.subscript)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.subscript,title:"subscript",handleClick:i.handleSubscript},t.createElement(J,null)),(!e?.toolbar||e?.toolbar?.superscript)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.superscript,title:"superscript",handleClick:i.handleSuperscript},t.createElement(K,null)),(!e?.toolbar||e?.toolbar?.strikethrough)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.strikethrough,title:"strikethrough",handleClick:i.handleStrikeout},t.createElement(Q,null)),(!e?.toolbar||e?.toolbar?.leftAlign)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.leftAlign,title:"left align",handleClick:()=>i.handleAlign(s.LEFT)},t.createElement(W,null)),(!e?.toolbar||e?.toolbar?.centerAlign)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.centerAlign,title:"center align",handleClick:()=>i.handleAlign(s.CENTER)},t.createElement(U,null)),(!e?.toolbar||e?.toolbar?.rightAlign)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.rightAlign,title:"right align",handleClick:()=>i.handleAlign(s.RIGHT)},t.createElement(_,null)),(!e?.toolbar||e?.toolbar?.justify)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.justify,title:"justify",handleClick:()=>i.handleAlign(s.ALIGNMENT)},t.createElement(Y,null)),(!e?.toolbar||e?.toolbar?.bulletList)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.bulletList,title:"bullet list",handleClick:()=>i.handleList(d.UL,u.DECIMAL)},t.createElement(V,null)),(!e?.toolbar||e?.toolbar?.numberedList)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.numberedList,title:"numbered list",handleClick:()=>i.handleList(d.OL,u.DECIMAL)},t.createElement(Z,null)),(!e?.toolbar||e?.toolbar?.fontType)&&t.createElement(Ve,{style:e?.toolbarClass?.item?.fontType}),(!e?.toolbar||e?.toolbar?.table)&&t.createElement(Ze,{style:e?.toolbarClass?.item?.table}),(!e?.toolbar||e?.toolbar?.fontColor)&&t.createElement(rt,{style:e?.toolbarClass?.item?.fontColor,textColor:o?.color}),(!e?.toolbar||e?.toolbar?.highlight)&&t.createElement(nt,{style:e?.toolbarClass?.item?.highlight,color:o?.highlight}),(!e?.toolbar||e?.toolbar?.fontSize)&&t.createElement(lt,{style:e?.toolbarClass?.item?.fontSize,size:o?.size}),(!e?.toolbar||e?.toolbar?.heading)&&t.createElement(it,{style:e?.toolbarClass?.item?.heading}),(!e?.toolbar||e?.toolbar?.hyperlink)&&t.createElement(Ue,{sx:e?.toolbarClass?.item?.hyperlink,title:"hyperlink",handleClick:()=>i.createHyperLink()},t.createElement(he,null)),(!e?.toolbar||e?.toolbar?.image)&&t.createElement(mt,{style:e?.toolbarClass?.item?.image}))))})),st=()=>{p(),g();const e=f((e=>e.document)),r=we(e.margins,500),[o,l]=a(!1),[i,m]=a([]),c=()=>l(!1),s=(e,t)=>{const{value:r}=e.target;let n=[...i];n[t]=r?parseInt(r):"",m(n)},d=async()=>{[...i].map((e=>e||0))};return n((()=>{r?.length&&m(r)}),[r]),t.createElement(t.Fragment,null,t.createElement(Ue,{title:"Margin",handleClick:()=>l(!0)},t.createElement(Ce,{sx:{fontSize:20}})),t.createElement(ye,{open:o,onClose:c,maxWidth:"xs"},t.createElement(Se,null,"Margins",t.createElement(R,{"aria-label":"close",onClick:c,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]}},t.createElement(ce,null))),t.createElement(ve,null,t.createElement(A,{sx:{display:"flex",flexDirection:"column",m:"auto",width:"fit-content"}},t.createElement(Ie,{container:!0,spacing:2},t.createElement(Ie,{container:!0,item:!0},t.createElement(Ie,{item:!0,xs:3},"Top :"),t.createElement(Ie,{item:!0,xs:9},t.createElement(Te,{type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]"},size:"small",variant:"outlined",value:i?.[0],onChange:e=>s(e,0)}))),t.createElement(Ie,{container:!0,item:!0,spacing:1},t.createElement(Ie,{item:!0,xs:3},"Bottom :"),t.createElement(Ie,{item:!0,xs:9},t.createElement(Te,{type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]"},size:"small",variant:"outlined",value:i?.[1],onChange:e=>s(e,1)}))),t.createElement(Ie,{container:!0,item:!0,spacing:1},t.createElement(Ie,{item:!0,xs:3},"Left :"),t.createElement(Ie,{item:!0,xs:9},t.createElement(Te,{type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]"},size:"small",variant:"outlined",value:i?.[2],onChange:e=>s(e,2)}))),t.createElement(Ie,{container:!0,item:!0,spacing:1},t.createElement(Ie,{item:!0,xs:3},"Right :"),t.createElement(Ie,{item:!0,xs:9},t.createElement(Te,{type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]"},size:"small",variant:"outlined",value:i?.[3],onChange:e=>s(e,3)})))))),t.createElement(ke,null,t.createElement(Ae,{onClick:c},"Close"),t.createElement(Ae,{autoFocus:!0,onClick:()=>{d()}},"Save changes"))))};function dt(){return t.createElement(A,{sx:{flexGrow:1}},t.createElement(T,{position:"fixed",sx:{top:"auto",bottom:0,backgroundColor:"#edf2fa"}},t.createElement(xe,{variant:"dense",sx:{height:"30px",minHeight:"30px"}},t.createElement(A,{sx:{flexGrow:1}}),t.createElement(A,{sx:{display:{xs:"none",md:"flex"}}},t.createElement(st,null)))))}const ut=x({reducer:{document:Ne}}),pt=({toolbar:e,toolbarClass:r,canvasClass:n,onChange:a,onSelect:o,value:i})=>{const m={container:{backgroundColor:"#edf2fa",border:"none",minHeight:"40px",boxShadow:"none"},primaryToolbar:{display:"flex",flexDirection:"row",minHeight:"40px",justifyContent:"left",alignItems:"center"}};r=r&&Object.keys(r).length?{container:{...m.container,...r?.container},primaryToolbar:{...m.primaryToolbar,...r?.primaryToolbar},item:{...r?.item}}:m;const c=l(null);return t.createElement(b,{store:ut},t.createElement(t.Fragment,null,t.createElement(ct,{ref:c,toolbar:e,toolbarClass:r}),t.createElement(We,{ref:c,style:n,onChange:a,onSelect:o,data:i}),t.createElement(dt,null)))};export{We as CanvasEditor,pt as DocumentEditor};
